{"ast":null,"code":"var _jsxFileName = \"/Users/berkgaffaroglu/Documents/MemoryChallange/memorychallange/src/components/FetchTop10Players.js\";\nimport React, { Component } from 'react';\nexport class FetchTop10Players extends Component {\n  constructor(props) {\n    super(props); // initializing the variables that I am going to use later.\n\n    this.state = {\n      projectList: [],\n      Render: false,\n      errors: false\n    };\n  } // Fetching top 10 players from REST Api response\n\n\n  async fetchAll() {\n    try {\n      let response = await fetch(this.props.websiteUrl + 'api/top10-players/');\n      let data = await response.json();\n      this.setState({\n        projectList: data,\n        // Rendering only if the response is okay.\n        Render: true\n      }); // If there is any error handle it by changing the state Render:false and errors:true\n    } catch (err) {\n      this.setState({\n        errors: true,\n        Render: false\n      });\n    }\n  }\n\n  componentWillMount() {\n    // Fetching the data before render \n    this.fetchAll();\n  }\n\n  render() {\n    const {\n      Render,\n      errors,\n      projectList\n    } = this.state; // Rendering the data if this.state.Render is true as we set.\n\n    if (Render) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      }, projectList.map(function (player, index) {\n        // Mapping all of the players in top 10.\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }\n        }, player.id, \" \", player.country, \" \", player.nickname, \" \", player.score);\n      }));\n    } // If the data is taken too much time to load display a spinning animation\n    else if (Render == false) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, \"Wait\");\n      } // Error handling\n      else if (errors) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, \"Something is wrong. Please try again.\");\n        }\n  }\n\n}\nexport default FetchTop10Players;","map":{"version":3,"sources":["/Users/berkgaffaroglu/Documents/MemoryChallange/memorychallange/src/components/FetchTop10Players.js"],"names":["React","Component","FetchTop10Players","constructor","props","state","projectList","Render","errors","fetchAll","response","fetch","websiteUrl","data","json","setState","err","componentWillMount","render","map","player","index","id","country","nickname","score"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAO,MAAMC,iBAAN,SAAgCD,SAAhC,CAA0C;AAC7CE,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN,EADe,CAEf;;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAE,EADJ;AAETC,MAAAA,MAAM,EAAE,KAFC;AAGTC,MAAAA,MAAM,EAAE;AAHC,KAAb;AAKH,GAT4C,CAU7C;;;AACA,QAAMC,QAAN,GAAiB;AACb,QAAI;AAEA,UAAIC,QAAQ,GAAG,MAAOC,KAAK,CAAC,KAAKP,KAAL,CAAWQ,UAAX,GAAwB,oBAAzB,CAA3B;AACA,UAAIC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAjB;AACA,WAAKC,QAAL,CAAc;AACVT,QAAAA,WAAW,EAAEO,IADH;AAEV;AACAN,QAAAA,MAAM,EAAE;AAHE,OAAd,EAJA,CAUJ;AACC,KAXD,CAWE,OAAOS,GAAP,EAAY;AACV,WAAKD,QAAL,CAAc;AAEVP,QAAAA,MAAM,EAAC,IAFG;AAGVD,QAAAA,MAAM,EAAE;AAHE,OAAd;AAKH;AAEJ;;AACDU,EAAAA,kBAAkB,GAAG;AACjB;AACA,SAAKR,QAAL;AACH;;AACDS,EAAAA,MAAM,GAAG;AACL,UAAM;AAACX,MAAAA,MAAD;AAASC,MAAAA,MAAT;AAAiBF,MAAAA;AAAjB,QAAgC,KAAKD,KAA3C,CADK,CAEL;;AACA,QAAIE,MAAJ,EAAY;AAER,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKD,WAAW,CAACa,GAAZ,CAAgB,UAAUC,MAAV,EAAkBC,KAAlB,EAAyB;AACtC;AACA,4BACA;AAAK,UAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAkBD,MAAM,CAACE,EAAzB,OAA8BF,MAAM,CAACG,OAArC,OAA+CH,MAAM,CAACI,QAAtD,OAAiEJ,MAAM,CAACK,KAAxE,CADA;AAGH,OALA,CADL,CADJ;AAWH,KAbD,CAcA;AAdA,SAeK,IAAIlB,MAAM,IAAI,KAAd,EAAoB;AACrB,4BACI,iDADJ;AAGH,OAJI,CAKL;AALK,WAMA,IAAIC,MAAJ,EAAY;AACb,8BACI,kFADJ;AAGH;AAIJ;;AApE4C;AAuEjD,eAAeN,iBAAf","sourcesContent":["import React, { Component } from 'react'\n\nexport class FetchTop10Players extends Component {\n    constructor(props) {\n        super(props)\n        // initializing the variables that I am going to use later.\n        this.state = {\n            projectList: [],\n            Render: false,\n            errors: false\n        }\n    }\n    // Fetching top 10 players from REST Api response\n    async fetchAll() {\n        try {\n\n            let response = await (fetch(this.props.websiteUrl + 'api/top10-players/'));\n            let data = await response.json();\n            this.setState({\n                projectList: data,\n                // Rendering only if the response is okay.\n                Render: true\n            })\n\n        // If there is any error handle it by changing the state Render:false and errors:true\n        } catch (err) {\n            this.setState({\n\n                errors:true,\n                Render: false\n            })\n        }\n\n    }\n    componentWillMount() {\n        // Fetching the data before render \n        this.fetchAll()\n    }\n    render() {\n        const {Render, errors, projectList} = this.state\n        // Rendering the data if this.state.Render is true as we set.\n        if (Render) {\n\n            return (\n                <div>\n                    {projectList.map(function (player, index) {\n                        // Mapping all of the players in top 10.\n                        return(\n                        <div key={index}>{player.id} {player.country} {player.nickname} {player.score}</div>    \n                        )\n                    })}\n                </div>\n            )\n\n        } \n        // If the data is taken too much time to load display a spinning animation\n        else if (Render == false){\n            return (\n                <>Wait</>\n            )\n        }\n        // Error handling\n        else if (errors) {\n            return (\n                <>Something is wrong. Please try again.</>\n            )\n        }\n \n\n\n    }\n}\n\nexport default FetchTop10Players\n"]},"metadata":{},"sourceType":"module"}